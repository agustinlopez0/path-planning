\documentclass{article}
\usepackage[margin=1in]{geometry} 
\usepackage{amsmath,amsthm,amssymb,amsfonts, fancyhdr, color, comment, graphicx, environ}
\usepackage{xcolor}
\usepackage{mdframed}
\usepackage[shortlabels]{enumitem}
\usepackage{indentfirst}
\usepackage{hyperref}
\usepackage{listings}
\lstset{
%   backgroundcolor=\color{lightgray}, % color de fondo
  basicstyle=\ttfamily\small, % estilo básico
  breaklines=true, % ajustar línea automáticamente
  frame=single, % marco alrededor del código
  language=C, % lenguaje de programación
  numbers=left, % número de líneas a la izquierda
  numberstyle=\tiny\color{gray}, % estilo de números de línea
  keywordstyle=\color{violet}, % color de palabras clave
%   commentstyle=\color{green}, % color de comentarios
  stringstyle=\color{red}, % color de cadenas
  captionpos=b, % título en la parte inferior
  showstringspaces=false % no mostrar espacios en las cadenas
}
\renewcommand{\footrulewidth}{0.8pt}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
}

\pagestyle{fancy}

\newenvironment{problem}[2][Problem]
    { \begin{mdframed}[backgroundcolor=gray!20] \textbf{#1 #2} \\}
    {  \end{mdframed}}

% \fancyfoot[C]{} % Esto elimina la numeración de página en el pie de página

\newenvironment{solution}{\textbf{Solution}}

\lhead{Agustín López}
\rhead{Licenciatura en Ciencias de la Computación} 
\chead{\textbf{}}
\rfoot{FCEIA}

\begin{document}
\input{coverPage}

\section{Actividad 1}

En esta actividad, se presenta el desarrollo e implementación de un algoritmo de navegación para un robot en un entorno desconocido. En este entorno, el robot se mueve a ciegas y solo puede detectar los obstáculos al "chocarse" con ellos. El objetivo es que el robot llegue a la posición objetivo de manera eficiente, evitando obstáculos y explorando nuevas áreas de forma sistemática.

A continuación, se detallan los pasos del algoritmo y su implementación.

\subsection{Descripción del Algoritmo}
\begin{problem}{Algoritmo}
    El algoritmo para la navegación del robot sigue los siguientes pasos:

    \begin{enumerate}
        \item \textbf{Paso 1:} El robot comienza moviéndose en una dirección vertical hasta intentar alcanzar la altura de la posición objetivo. Cuando el robot logra llegar a la esa altura o se encuentra con algun obstaculo intenta moverse en dirección horizontal siguiendo el mismo principio. Este proceso se repite en bucle hasta que el robot no pueda acercarse más al objetivo utilizando este método.

        \item \textbf{Paso 2:} Cuando el robot llega a una posición en la que no puede avanzar más, debe dirigirse hacia una celda que no haya sido visitada previamente. Este paso asegura que el robot explora nuevas áreas del mapa y evita el movimiento redundante en regiones ya descubiertas. Después, el robot vuelve al paso 1.

        \item \textbf{Paso 3:} Si no hay celdas no visitadas disponibles, el robot retrocede una posición por la ruta previamente recorrida y regresa al paso 1.
    \end{enumerate}

    Este enfoque permite al robot explorar el entorno sin quedar atascado en un bucle infinito y llegar a la posición objetivo de manera eficiente, maximizando la cobertura del área y minimizando el tiempo de búsqueda.
\end{problem}

\subsection{Estructuras de Datos Utilizadas}

\textbf{Estructura \texttt{Robot:}}
Para la implementación del algoritmo, una de las estructuras más importantes es \texttt{Robot}, que representa la información con la que cuenta el robot y que luego utiliza para seguir el algoritmo descripto.

\begin{lstlisting}[language=C]
 typedef struct {
     int i;
     int j;
 } _Punto;
 typedef _Punto* Punto;
 
 typedef enum {
     LEFT, 
     RIGHT,  
     UP,     
     DOWN    
 } Direccion;
 
 typedef struct {
     Punto pos; 
     Punto dest; 
     Pila movimientos; 
     TablaHash visitados;
 } _Robot;
 typedef _Robot *Robot;
\end{lstlisting}

\textbf{Descripción de los campos:}
\begin{itemize}
    \item \textbf{Punto \texttt{pos} y \texttt{dest}:} Representan la posición actual y la posición destino del robot, respectivamente.

    \item \textbf{Pila \texttt{movimientos}:} Una pila implementada con una lista enlazada que almacena elementos de tipo \texttt{*Direccion}. Cuando el robot realiza un movimiento que no sea un retroceso (por ejemplo, hacia la izquierda), se agrega el movimiento a la pila. De este modo, al realizar un retroceso, el movimiento que se ejecute será el opuesto al almacenado en el tope de la pila.

    \item \textbf{TablaHash \texttt{visitados}:} Una tabla hash que almacena las posiciones visitadas por el robot. Esta tabla se utiliza para evitar que el robot visite una celda más de una vez y para determinar si hay celdas sin visitar en el mapa. La elección de una tabla hash se basa en su eficiencia en la búsqueda en tiempo constante y en el hecho de que no se necesita eliminar elementos de la tabla.
\end{itemize}


\section{Actividad 2: Algoritmo de Navegación en Entorno Parcialmente Desconocido}

En esta actividad el objetivo sigue siendo el mismo que en la actividad anterior, pero en este caso el robot cuenta con un sensor que le permite detectar los obstáculos en las cuatro direcciones cardinales (arriba, abajo, izquierda, derecha). El robot se desplaza en un mapa representado por una matriz de dimensiones \(N \times M\) y debe llegar a un destino específico desde una posición inicial, evitando obstáculos y utilizando el sensor para obtener información sobre su entorno e intentando optimizar el uso del mismo dado que se considera costoso.

\subsection{Descripción del Código}

El código desarrollado se divide en varias funciones clave:

\begin{enumerate}
    \item \textbf{Estructuras de Datos:} Se definen estructuras para representar el estado del robot (\texttt{\_Robot}) y la información de cada celda del mapa (\texttt{CeldaInfo}). La estructura \texttt{\_Nodo} se utiliza para manejar los nodos en la cola de prioridad, esencial para la implementación del algoritmo A*.

    \item \textbf{Creación y Destrucción del Robot:} La función \texttt{robot\_crear} inicializa la posición y el destino del robot, así como la memoria para la matriz que representa el mapa. La función \texttt{robot\_destruir} libera la memoria utilizada por el robot, asegurando una correcta gestión de los recursos.

    \item \textbf{Uso del Sensor:} La función \texttt{usar\_sensor} simula la interacción con un sensor que proporciona las distancias a los obstáculos en las cuatro direcciones cardinales (arriba, abajo, izquierda, derecha). Esta función actualiza la matriz del mapa con la información obtenida, marcando las celdas exploradas y los obstáculos detectados.

    \item \textbf{Algoritmo A*:} La función \texttt{calcular\_ruta} implementa una variante del algoritmo A* para encontrar el camino más corto desde la posición actual del robot hasta el destino. Se emplea una cola de prioridad para explorar las celdas con el menor costo estimado y se actualiza la información de cada celda en función de los costos de movimiento y la heurística (distancia Manhattan al destino).

    \item \textbf{Movimiento del Robot:} La función \texttt{ir\_a\_destino} reconstruye el camino óptimo encontrado por el algoritmo A* y mueve el robot a lo largo de ese camino, actualizando su posición en el mapa y gestionando las celdas visitadas.
\end{enumerate}

El enfoque adoptado en esta actividad permite al robot navegar en un entorno parcialmente desconocido utilizando un algoritmo eficiente y adaptativo, maximizando la cobertura y minimizando el tiempo de búsqueda.

\end{document}
